function checkall(val,formpart){for(var x=0;document.queryResults.elements[x];)document.queryResults.elements[x].name==formpart&&(document.queryResults.elements[x].checked=val),x++;toggleRadio("allRecs","selRecs",val)}function toggleVisibility(id,imgid,txtid,txt,upd){var upd,e=document.getElementById(id),i=document.getElementById(imgid),t=document.getElementById(txtid);void 0===upd&&(upd=!0),"block"==e.style.display||""==e.style.display?(upd&&(e.style.display="none"),i.src="img/closed.gif",t.innerHTML=txt):(upd&&(e.style.display="block"),i.src="img/open.gif",t.innerHTML="")}function toggleVisibilitySlide(id,imgid,txtid,txt){Effect.toggle(id,"blind",{duration:.4}),toggleVisibility(id,imgid,txtid,txt,!1)}function toggleRadio(id1,id2,val){document.getElementById(id1).checked=!val,document.getElementById(id2).checked=val}function updateAllRecs(){for(var val=!eval("document.getElementById('allRecs').checked"),x=0,checked=0;document.queryResults.elements[x];)"marked[]"==document.queryResults.elements[x].name&&eval("document.queryResults.elements[x].checked")&&checked++,x++;val=checked>0?!0:!1,toggleRadio("allRecs","selRecs",val)}function addCQLIndex(element,entry){if(null!=entry.match(/^(id|col)-\w+-\w+=/)){if(null!=entry.match(/^id-\w+-\w+=/))var selectedFieldID=entry.replace(/^id-(\w+)-\w+=.*/,"$1"),selectedField=document.getElementById(selectedFieldID).value;else if(null!=entry.match(/^col-\w+-\w+=/))var selectedField=entry.replace(/^col-(\w+)-\w+=.*/,"$1");entry=entry.replace(/^(id|col)-\w+-/,"")}else var selectedField="keywords";var CQLIndexes=" author title type year publication abbrev_journal volume issue pages keywords abstract address corporate_author thesis publisher place editor language summary_language orig_title series_editor series_title abbrev_series_title series_volume series_issue edition issn isbn medium area expedition conference notes approved location call_number serial marked copy selected user_keys user_notes user_file user_groups cite_key related file url doi contribution_id online_publication online_citation orig_record created_by modified_by main_fields ";return CQLIndexes.search("\\b"+selectedField+"\\b")>0&&(entry=entry.replace("=","="+selectedField+"%20all%20")),entry}